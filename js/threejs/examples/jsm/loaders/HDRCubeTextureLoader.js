import{CubeTexture,DataTexture,FileLoader,FloatType,HalfFloatType,LinearEncoding,LinearFilter,Loader,NearestFilter,RGBAFormat,RGBEEncoding,RGBFormat,UnsignedByteType}from"../../../build/three.module.js";import{RGBELoader}from"../loaders/RGBELoader.js";var HDRCubeTextureLoader=function(e){Loader.call(this,e),this.hdrLoader=new RGBELoader,this.type=UnsignedByteType};HDRCubeTextureLoader.prototype=Object.assign(Object.create(Loader.prototype),{constructor:HDRCubeTextureLoader,load:function(e,t,a,r){Array.isArray(e)||(console.warn("THREE.HDRCubeTextureLoader signature has changed. Use .setDataType() instead."),this.setDataType(e),e=t,t=a,a=r,r=arguments[4]);var i=new CubeTexture;switch(i.type=this.type,i.type){case UnsignedByteType:i.encoding=RGBEEncoding,i.format=RGBAFormat,i.minFilter=NearestFilter,i.magFilter=NearestFilter,i.generateMipmaps=!1;break;case FloatType:case HalfFloatType:i.encoding=LinearEncoding,i.format=RGBFormat,i.minFilter=LinearFilter,i.magFilter=LinearFilter,i.generateMipmaps=!1}var n=this,o=0;function s(t,a,r,s){new FileLoader(n.manager).setPath(n.path).setResponseType("arraybuffer").load(e[t],(function(e){o++;var r=n.hdrLoader.parse(e);if(r){if(void 0!==r.data){var s=new DataTexture(r.data,r.width,r.height);s.type=i.type,s.encoding=i.encoding,s.format=i.format,s.minFilter=i.minFilter,s.magFilter=i.magFilter,s.generateMipmaps=i.generateMipmaps,i.images[t]=s}6===o&&(i.needsUpdate=!0,a&&a(i))}}),r,s)}for(var d=0;d<e.length;d++)s(d,t,a,r);return i},setDataType:function(e){return this.type=e,this.hdrLoader.setDataType(e),this}});export{HDRCubeTextureLoader};