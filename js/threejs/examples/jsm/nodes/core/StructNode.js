import{TempNode}from"./TempNode.js";var declarationRegexp=/^struct\s*([a-z_0-9]+)\s*{\s*((.|\n)*?)}/gim,propertiesRegexp=/\s*(\w*?)\s*(\w*?)(\=|\;)/gim;function StructNode(t){TempNode.call(this),this.parse(t)}StructNode.prototype=Object.create(TempNode.prototype),StructNode.prototype.constructor=StructNode,StructNode.prototype.nodeType="Struct",StructNode.prototype.getType=function(t){return t.getTypeByFormat(this.name)},StructNode.prototype.getInputByName=function(t){for(var e=this.inputs.length;e--;)if(this.inputs[e].name===t)return this.inputs[e]},StructNode.prototype.generate=function(t,e){return"source"===e?this.src+";":t.format("( "+this.src+" )",this.getType(t),e)},StructNode.prototype.parse=function(t){this.src=t||"",this.inputs=[];var e=declarationRegexp.exec(this.src);if(e){for(var r,o=e[2];r=propertiesRegexp.exec(o);)this.inputs.push({type:r[1],name:r[2]});this.name=e[1]}else this.name="";this.type=this.name},StructNode.prototype.toJSON=function(t){var e=this.getJSONNode(t);return e||((e=this.createJSONNode(t)).src=this.src),e};export{StructNode};