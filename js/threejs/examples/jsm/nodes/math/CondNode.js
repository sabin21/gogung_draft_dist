import{TempNode}from"../core/TempNode.js";function CondNode(e,o,t,d,i){TempNode.call(this),this.a=e,this.b=o,this.op=t,this.ifNode=d,this.elseNode=i}CondNode.EQUAL="==",CondNode.NOT_EQUAL="!=",CondNode.GREATER=">",CondNode.GREATER_EQUAL=">=",CondNode.LESS="<",CondNode.LESS_EQUAL="<=",CondNode.prototype=Object.create(TempNode.prototype),CondNode.prototype.constructor=CondNode,CondNode.prototype.nodeType="Cond",CondNode.prototype.getType=function(e){if(this.ifNode){var o=this.ifNode.getType(e),t=this.elseNode.getType(e);return e.getTypeLength(t)>e.getTypeLength(o)?t:o}return"b"},CondNode.prototype.getCondType=function(e){return e.getTypeLength(this.b.getType(e))>e.getTypeLength(this.a.getType(e))?this.b.getType(e):this.a.getType(e)},CondNode.prototype.generate=function(e,o){var t,d=this.getType(e),i=this.getCondType(e),p=this.a.build(e,i),N=this.b.build(e,i);if(this.ifNode){var s=this.ifNode.build(e,d),n=this.elseNode.build(e,d);t="( "+[p,this.op,N,"?",s,":",n].join(" ")+" )"}else t="( "+p+" "+this.op+" "+N+" )";return e.format(t,this.getType(e),o)},CondNode.prototype.copy=function(e){return TempNode.prototype.copy.call(this,e),this.a=e.a,this.b=e.b,this.op=e.op,this.ifNode=e.ifNode,this.elseNode=e.elseNode,this},CondNode.prototype.toJSON=function(e){var o=this.getJSONNode(e);return o||((o=this.createJSONNode(e)).a=this.a.toJSON(e).uuid,o.b=this.b.toJSON(e).uuid,o.op=this.op,o.ifNode&&(o.ifNode=this.ifNode.toJSON(e).uuid),o.elseNode&&(o.elseNode=this.elseNode.toJSON(e).uuid)),o};export{CondNode};