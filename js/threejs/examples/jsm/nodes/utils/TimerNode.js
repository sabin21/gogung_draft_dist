import{FloatNode}from"../inputs/FloatNode.js";import{NodeLib}from"../core/NodeLib.js";function TimerNode(e,o,t){FloatNode.call(this),this.scale=void 0!==e?e:1,this.scope=o||TimerNode.GLOBAL,this.timeScale=void 0!==t?t:void 0!==e}TimerNode.GLOBAL="global",TimerNode.LOCAL="local",TimerNode.DELTA="delta",TimerNode.prototype=Object.create(FloatNode.prototype),TimerNode.prototype.constructor=TimerNode,TimerNode.prototype.nodeType="Timer",TimerNode.prototype.getReadonly=function(){return!1},TimerNode.prototype.getUnique=function(){return this.timeScale&&(this.scope===TimerNode.GLOBAL||this.scope===TimerNode.DELTA)},TimerNode.prototype.updateFrame=function(e){var o=this.timeScale?this.scale:1;switch(this.scope){case TimerNode.LOCAL:this.value+=e.delta*o;break;case TimerNode.DELTA:this.value=e.delta*o;break;default:this.value=e.time*o}},TimerNode.prototype.copy=function(e){return FloatNode.prototype.copy.call(this,e),this.scope=e.scope,this.scale=e.scale,this.timeScale=e.timeScale,this},TimerNode.prototype.toJSON=function(e){var o=this.getJSONNode(e);return o||((o=this.createJSONNode(e)).scope=this.scope,o.scale=this.scale,o.timeScale=this.timeScale),o},NodeLib.addKeyword("time",(function(){return new TimerNode}));export{TimerNode};